<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="../bower_components/core-icon/core-icon.html">

<polymer-element name="ss-ribbon-button" attributes='icon toggle toggled enabled' on-tap='{{tapHandler}}'>

	<template >
		<style>
		
			:host{
				display: block;
				height: 100%;
				margin-left: 20px;
			}
			
			:host *, ::content *{
				cursor: pointer;
				user-select: none;
				 -webkit-touch-callout: none;
				-webkit-user-select: none;
			}
			
			#holder{				
				border: 1px solid #ccc;
				display: block;
				border-width: 1px;
				background-color: white;
				border-radius: 4px;
				box-shadow: 0px 1px 0px #ccc;
				transition: box-shadow .3s, margin-top .3s;
				text-align: center;
				height: 100%;
				

			}
			
			#holder[toggled='false']:hover{
				margin-top: -2px;
				box-shadow: 0px 3px 0px #ccc, 0px 3px 5px rgba(0,0,0,.12);
			}
			
			#holder[toggled='true']{
				transition: none;
				margin-top: 2px;
				border-width: 1px 1px 1px 1px;
				background-color: #f4f4f4;
				box-shadow: 0px -3px 0px #bbb, inset 0px 4px 4px rgba(0,0,0,.07);
			}
			
			span{
				color: #bbb;
				font-size: 18px;
				font-weight: normal;
				position: relative;
				display: block;
				width: 100%;
				text-align: center;
				bottom: 0%;
			}
		
			
		</style>
		<div id ='holder' toggled='{{toggled}}'>
			<span><content></content></span>
		</div>
		
	</template>	
	<script>
		Polymer({
			enabled: true,
			toggle: false,
			toggled: false,
			tapHandler : function(){
				if(this.enabled){
					if(this.toggle )
						this.toggled = !this.toggled;	
					console.log('Button is ' + (this.toggled?'not ':"") + "toggled.");
				}			
			},
			
			domReady : function(){
				//TODO: There's got to be a better way to do this. CSS and padding?
				// At least make it reactive.		
				// *later* Okay. I'm adding a min-width for now at least.
				this.style['width'] = this.clientHeight * 1.2 + 'px';
				this.style['min-width'] = '120px';
			}
		
		});
	</script>
</polymer-element>			
			
			
			
<core-icon-button on-click='{{refresh}}' id='refresh' icon="autorenew" title="autorenew"></core-icon-button>
